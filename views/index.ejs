<%- include('partials/header.ejs'); %>
<main>
    <h1><%=title %></h1>

    <div class="gallery-container">

        <% for (let event of events){%>

        <div class="gallery_thumbnail">
            <a class="gallery_thumbnail_content" href="#popup-container<%= event.id %>">
                <div class="thumbnail">
                   <h2 class="title_<%= event.type_slug %>"><%=event.titre %></h2>
                   <div class="thumbnail_content">
                    <h3 class="<%= event.type_slug %>"><%=event.type %></h3>
                        <div class="thumbnail_line" >
                            <div class="thumbnail_svg">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10 10H13.5M10 5V10" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <div class="thumbnail_hour"> <%= event.horaire_debut %> - <%= event.horaire_fin %></div>
                        </div>
                        <div class="thumbnail_line" >
                            <div class="thumbnail_svg">
                                <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 10.5C7.7625 10.5 6.75 9.555 6.75 8.4C6.75 7.245 7.7625 6.3 9 6.3C10.2375 6.3 11.25 7.245 11.25 8.4C11.25 9.555 10.2375 10.5 9 10.5ZM15.75 8.61C15.75 4.7985 12.7687 2.1 9 2.1C5.23125 2.1 2.25 4.7985 2.25 8.61C2.25 11.067 4.44375 14.322 9 18.207C13.5563 14.322 15.75 11.067 15.75 8.61ZM9 0C13.725 0 18 3.381 18 8.61C18 12.096 14.9962 16.2225 9 21C3.00375 16.2225 0 12.096 0 8.61C0 3.381 4.275 0 9 0Z" fill="black"/>
                                </svg>

                            </div>
                            <div class="thumbnail_place"><%= event.lieu %> </div>
                         </div>
                         <div class="thumbnail_line" >
                            <div class="thumbnail_svg">
                                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7.875C14 8.80326 13.6313 9.6935 12.9749 10.3499C12.3185 11.0063 11.4283 11.375 10.5 11.375C9.57174 11.375 8.6815 11.0063 8.02513 10.3499C7.36875 9.6935 7 8.80326 7 7.875C7 6.94674 7.36875 6.0565 8.02513 5.40013C8.6815 4.74375 9.57174 4.375 10.5 4.375C11.4283 4.375 12.3185 4.74375 12.9749 5.40013C13.6313 6.0565 14 6.94674 14 7.875V7.875ZM12.25 7.875C12.25 8.33913 12.0656 8.78425 11.7374 9.11244C11.4092 9.44063 10.9641 9.625 10.5 9.625C10.0359 9.625 9.59075 9.44063 9.26256 9.11244C8.93437 8.78425 8.75 8.33913 8.75 7.875C8.75 7.41087 8.93437 6.96575 9.26256 6.63756C9.59075 6.30937 10.0359 6.125 10.5 6.125C10.9641 6.125 11.4092 6.30937 11.7374 6.63756C12.0656 6.96575 12.25 7.41087 12.25 7.875V7.875Z" fill="black"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 0.875C5.18438 0.875 0.875 5.18438 0.875 10.5C0.875 15.8156 5.18438 20.125 10.5 20.125C15.8156 20.125 20.125 15.8156 20.125 10.5C20.125 5.18438 15.8156 0.875 10.5 0.875ZM2.625 10.5C2.625 12.3287 3.24887 14.0122 4.2945 15.3492C5.02883 14.3849 5.97616 13.6034 7.0625 13.0658C8.14885 12.5281 9.34478 12.2489 10.5569 12.25C11.7533 12.2489 12.9342 12.5208 14.0096 13.0452C15.085 13.5695 16.0265 14.3324 16.7624 15.2758C17.5205 14.2814 18.031 13.1208 18.2515 11.89C18.4721 10.6592 18.3964 9.39359 18.0307 8.19786C17.665 7.00213 17.0198 5.91067 16.1486 5.01378C15.2773 4.1169 14.205 3.44038 13.0203 3.0402C11.8357 2.64001 10.5728 2.52768 9.33613 2.71248C8.09946 2.89728 6.92457 3.37391 5.90867 4.10292C4.89278 4.83194 4.06508 5.79239 3.49408 6.9048C2.92307 8.01721 2.62516 9.2496 2.625 10.5V10.5ZM10.5 18.375C8.69221 18.3777 6.93898 17.7558 5.537 16.6145C6.10131 15.8066 6.85242 15.1471 7.72642 14.6918C8.60042 14.2366 9.57144 13.9993 10.5569 14C11.53 13.9992 12.4893 14.2306 13.3551 14.675C14.2208 15.1194 14.9681 15.7639 15.5347 16.555C14.1219 17.7334 12.3398 18.3776 10.5 18.375V18.375Z" fill="black"/>
                                </svg>
                            </div>
                            <div class="thumbnail_speakers"> 
                                <% for (let intervenant of event.intervenants){%>
                                <div class="speaker-name"><%= intervenant.nom %></div>
                                <%};%>
                            </div>
                         </div>    
                    </div>
                </div>
            </a>
        </div>

        <%};%>
    </div>
    <div class="popups-container">
        <% for (let event of events){%>

        <div id="popup-container<%= event.id %>" class="popup-overlay">
            <div class="popup">

                <a class="close" href="#">&times;</a>
                <div class="popup_content">
                    <div class="thumbnail">
                       <h2 class="title_<%= event.type_slug %>"><%=event.titre %></h2>
                       <div class="thumbnail_content">
                        <a class="popup-link_title" href="/type/<%= event.type_slug %>"><h3 class="<%= event.type_slug %>"><%=event.type %></h3></a>
                        <div class="popup_info_desc">
                       <div class="info-bloc">
                            <div class="popup_thumbnail_line" >
                                <div class="thumbnail_svg">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M10 10H13.5M10 5V10" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <div class="thumbnail_hour"> <%= event.horaire_debut %> - <%= event.horaire_fin %></div>
                            </div>
                            <a class="popup-link <%= event.type_slug %>" href="/heure/<%= event.horaire_debut %>" >À la même heure...</a>
                            <div class="popup_thumbnail_line" >
                                <div class="thumbnail_svg">
                                    <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 10.5C7.7625 10.5 6.75 9.555 6.75 8.4C6.75 7.245 7.7625 6.3 9 6.3C10.2375 6.3 11.25 7.245 11.25 8.4C11.25 9.555 10.2375 10.5 9 10.5ZM15.75 8.61C15.75 4.7985 12.7687 2.1 9 2.1C5.23125 2.1 2.25 4.7985 2.25 8.61C2.25 11.067 4.44375 14.322 9 18.207C13.5563 14.322 15.75 11.067 15.75 8.61ZM9 0C13.725 0 18 3.381 18 8.61C18 12.096 14.9962 16.2225 9 21C3.00375 16.2225 0 12.096 0 8.61C0 3.381 4.275 0 9 0Z" fill="black"/>
                                    </svg>
                                </div>
                                <div class="thumbnail_place"><%= event.lieu %> </div>
                             </div>
                             <a class="popup-link <%= event.type_slug %>" href="/lieu/<%= event.lieu_slug %>">Au même endroit...</a>
                            <div class="popup_thumbnail_line" >
                                <div class="thumbnail_svg">
                                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7.875C14 8.80326 13.6313 9.6935 12.9749 10.3499C12.3185 11.0063 11.4283 11.375 10.5 11.375C9.57174 11.375 8.6815 11.0063 8.02513 10.3499C7.36875 9.6935 7 8.80326 7 7.875C7 6.94674 7.36875 6.0565 8.02513 5.40013C8.6815 4.74375 9.57174 4.375 10.5 4.375C11.4283 4.375 12.3185 4.74375 12.9749 5.40013C13.6313 6.0565 14 6.94674 14 7.875V7.875ZM12.25 7.875C12.25 8.33913 12.0656 8.78425 11.7374 9.11244C11.4092 9.44063 10.9641 9.625 10.5 9.625C10.0359 9.625 9.59075 9.44063 9.26256 9.11244C8.93437 8.78425 8.75 8.33913 8.75 7.875C8.75 7.41087 8.93437 6.96575 9.26256 6.63756C9.59075 6.30937 10.0359 6.125 10.5 6.125C10.9641 6.125 11.4092 6.30937 11.7374 6.63756C12.0656 6.96575 12.25 7.41087 12.25 7.875V7.875Z" fill="black"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 0.875C5.18438 0.875 0.875 5.18438 0.875 10.5C0.875 15.8156 5.18438 20.125 10.5 20.125C15.8156 20.125 20.125 15.8156 20.125 10.5C20.125 5.18438 15.8156 0.875 10.5 0.875ZM2.625 10.5C2.625 12.3287 3.24887 14.0122 4.2945 15.3492C5.02883 14.3849 5.97616 13.6034 7.0625 13.0658C8.14885 12.5281 9.34478 12.2489 10.5569 12.25C11.7533 12.2489 12.9342 12.5208 14.0096 13.0452C15.085 13.5695 16.0265 14.3324 16.7624 15.2758C17.5205 14.2814 18.031 13.1208 18.2515 11.89C18.4721 10.6592 18.3964 9.39359 18.0307 8.19786C17.665 7.00213 17.0198 5.91067 16.1486 5.01378C15.2773 4.1169 14.205 3.44038 13.0203 3.0402C11.8357 2.64001 10.5728 2.52768 9.33613 2.71248C8.09946 2.89728 6.92457 3.37391 5.90867 4.10292C4.89278 4.83194 4.06508 5.79239 3.49408 6.9048C2.92307 8.01721 2.62516 9.2496 2.625 10.5V10.5ZM10.5 18.375C8.69221 18.3777 6.93898 17.7558 5.537 16.6145C6.10131 15.8066 6.85242 15.1471 7.72642 14.6918C8.60042 14.2366 9.57144 13.9993 10.5569 14C11.53 13.9992 12.4893 14.2306 13.3551 14.675C14.2208 15.1194 14.9681 15.7639 15.5347 16.555C14.1219 17.7334 12.3398 18.3776 10.5 18.375V18.375Z" fill="black"/>
                                    </svg>
                                </div>
                                <div class="popup_thumbnail_speakers">
                                    <p>Avec:</p> 
                                    <% for (let intervenant of event.intervenants){%>
                                    <div class="popup_speaker-name"><%= intervenant.nom %> </div>
                                    <p class="popup_speaker-desc"><%= intervenant.fonction %></p>
                                    <%};%>
                                </div>
                            </div>  
                            </div>

                           

                            <div class="description-bloc">

                                <div class="popup_thumbnail_line">
                                    <div class="thumbnail_svg">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10 18C11.775 17.9996 13.4988 17.4054 14.897 16.312L19.293 20.708L20.707 19.294L16.311 14.898C17.405 13.4997 17.9996 11.7754 18 10C18 5.589 14.411 2 10 2C5.589 2 2 5.589 2 10C2 14.411 5.589 18 10 18ZM10 4C13.309 4 16 6.691 16 10C16 13.309 13.309 16 10 16C6.691 16 4 13.309 4 10C4 6.691 6.691 4 10 4Z" fill="black"/>
                                    <path d="M11.412 8.58599C11.791 8.96599 12 9.46799 12 9.99999H14C14.0009 9.47442 13.8976 8.95389 13.6961 8.46848C13.4946 7.98307 13.1988 7.54242 12.826 7.17199C11.312 5.65999 8.687 5.65999 7.174 7.17199L8.586 8.58799C9.346 7.82999 10.656 7.83199 11.412 8.58599Z" fill="black"/>
                                    </svg>
                                    </div>
                                    <p><%=event.descriptif%></p>
                                </div>

                                <div class="popup_thumbnail_line">
                                    <div class="thumbnail_svg">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M6 2H18V8L14 12L18 16V22H6V16L10 12L6 8V2ZM16 16.5L12 12.5L8 16.5V20H16V16.5ZM12 11.5L16 7.5V4H8V7.5L12 11.5ZM10 6H14V6.75L12 8.75L10 6.75V6Z" fill="black"/>
                                    </svg>
                                    </div>
                                    <p><%=event.duree%></p>
                                </div>

                                <div class="popup_thumbnail_line">
                                    <div class="thumbnail_svg">
                                    
                                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M10.8281 3.60938H3.60938V17.3906H17.3906V10.1719M17.3906 3.60938L10.1719 10.8281M14.1094 2.29688H18.7031V6.89062" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>

                                    </div>
                                    <ul class="speakers-links">
                                        
                                        <% for (let lien of event.liens){%>
                                        <li><a href="<%= lien.url %>" class="<%= event.type_slug %>"><%= lien.nom %></a></li>
                                        <%};%>
                                    </ul>
                                        
                                </div>
                                
                            </div>
                        </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <%};%>
    </div>   
<%- include('partials/footer.ejs'); %>