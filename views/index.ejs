<%- include('partials/header.ejs'); %>
<main>
    <h1><%=title %></h1>

    <div class="gallery-container">

        <% for (let event of events){%>

        <div class="gallery_thumbnail">
            <a class="gallery_thumbnail_content" href="#popup-container<%= event.id %>">
                <div class="thumbnail">
                   <h2 class="<%= event.type_slug %>"><%=event.titre %></h2>
                   <div class="thumbnail_content">
                        <div class="thumbnail_hour">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 10H13.5M10 5V10" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <div> <%= event.horaire_debut %> - <%= event.horaire_fin %></div>
                        </div>
                        <div class="thumbnail_place">
                            <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 10C6.9 10 6 9.1 6 8C6 6.9 6.9 6 8 6C9.1 6 10 6.9 10 8C10 9.1 9.1 10 8 10ZM14 8.2C14 4.57 11.35 2 8 2C4.65 2 2 4.57 2 8.2C2 10.54 3.95 13.64 8 17.34C12.05 13.64 14 10.54 14 8.2ZM8 0C12.2 0 16 3.22 16 8.2C16 11.52 13.33 15.45 8 20C2.67 15.45 0 11.52 0 8.2C0 3.22 3.8 0 8 0Z" fill="black"/>
                            </svg>
                            <div><%= event.lieu %> </div>
                         </div>
                         <div class="thumbnail_speakers">
                            <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M14 7.875C14 8.80326 13.6313 9.6935 12.9749 10.3499C12.3185 11.0063 11.4283 11.375 10.5 11.375C9.57174 11.375 8.6815 11.0063 8.02513 10.3499C7.36875 9.6935 7 8.80326 7 7.875C7 6.94674 7.36875 6.0565 8.02513 5.40013C8.6815 4.74375 9.57174 4.375 10.5 4.375C11.4283 4.375 12.3185 4.74375 12.9749 5.40013C13.6313 6.0565 14 6.94674 14 7.875V7.875ZM12.25 7.875C12.25 8.33913 12.0656 8.78425 11.7374 9.11244C11.4092 9.44063 10.9641 9.625 10.5 9.625C10.0359 9.625 9.59075 9.44063 9.26256 9.11244C8.93437 8.78425 8.75 8.33913 8.75 7.875C8.75 7.41087 8.93437 6.96575 9.26256 6.63756C9.59075 6.30937 10.0359 6.125 10.5 6.125C10.9641 6.125 11.4092 6.30937 11.7374 6.63756C12.0656 6.96575 12.25 7.41087 12.25 7.875V7.875Z" fill="black"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 0.875C5.18438 0.875 0.875 5.18438 0.875 10.5C0.875 15.8156 5.18438 20.125 10.5 20.125C15.8156 20.125 20.125 15.8156 20.125 10.5C20.125 5.18438 15.8156 0.875 10.5 0.875ZM2.625 10.5C2.625 12.3287 3.24887 14.0122 4.2945 15.3492C5.02883 14.3849 5.97616 13.6034 7.0625 13.0658C8.14885 12.5281 9.34478 12.2489 10.5569 12.25C11.7533 12.2489 12.9342 12.5208 14.0096 13.0452C15.085 13.5695 16.0265 14.3324 16.7624 15.2758C17.5205 14.2814 18.031 13.1208 18.2515 11.89C18.4721 10.6592 18.3964 9.39359 18.0307 8.19786C17.665 7.00213 17.0198 5.91067 16.1486 5.01378C15.2773 4.1169 14.205 3.44038 13.0203 3.0402C11.8357 2.64001 10.5728 2.52768 9.33613 2.71248C8.09946 2.89728 6.92457 3.37391 5.90867 4.10292C4.89278 4.83194 4.06508 5.79239 3.49408 6.9048C2.92307 8.01721 2.62516 9.2496 2.625 10.5V10.5ZM10.5 18.375C8.69221 18.3777 6.93898 17.7558 5.537 16.6145C6.10131 15.8066 6.85242 15.1471 7.72642 14.6918C8.60042 14.2366 9.57144 13.9993 10.5569 14C11.53 13.9992 12.4893 14.2306 13.3551 14.675C14.2208 15.1194 14.9681 15.7639 15.5347 16.555C14.1219 17.7334 12.3398 18.3776 10.5 18.375V18.375Z" fill="black"/>
                            </svg>
                            <div class="speakers">Avec :    
                                <% for (let intervenant of event.intervenants){%>
                                <div class="speaker-name"> <%= intervenant.nom %></div>
                                <%};%>
                            </div>
                         </div>
                        
                        
                        
                        
                    </div>
                </div>
            </a>
        </div>

        <%};%>
    </div>
    <div class="popups-container">
        <% for (let event of events){%>

        <div id="popup-container<%= event.id %>" class="popup-overlay">
            <div class="popup">
                <h2><%= event.titre %></h2>
                <a class="close" href="#">&times;</a>

                <div class="popup_content">
                    <a href="#popup-container<%= event.id-1 %>" class="arrow">&lt;</a>
                    <div class="popup_infos">
                        <h3>Intervenants :</h3>
                          <% for (let intervenant of event.intervenants){%>
                        <p class="intervenant"> <%= intervenant.nom %>, </p><p class="fonction"> <%= intervenant.fonction %>, </p>
                        <%};%>
                         <h3>Thème :</h3>
                          <a class="popup-link" href="/type/<%= event.type_slug %>"><%= event.type %></a>
                        <h3>Lieu:</h3>
                         <a class="popup-link" href="/lieu/<%= event.lieu_slug %>"><%= event.lieu %></a>
                        <h3>Horaires:</h3> 
                        <%= event.horaire_debut %> - <%= event.horaire_fin %>
                        <a class="popup-link" href="/heure/<%= event.horaire_debut %>">Voir ce qui se passe à la même heure</a>
                    </div>
                    <a href="#popup-container<%= event.id+1 %>" class="arrow">&gt;</a>
                </div>
            </div>
        </div>
        <%};%>
    </div>   
<%- include('partials/footer.ejs'); %>